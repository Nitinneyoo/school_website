import{r as o,j as e,m as i,A as j,L as w,G as y}from"./index-BDf_TsDU.js";import{g as N}from"./resultsService-B9PMRIiY.js";import{T as v}from"./trophy-BsdcXT0B.js";import{A as x}from"./arrow-left-BBHHI4Cg.js";import{S as k}from"./search-BUFUGeSp.js";import{F as p}from"./file-text-BzL20uYq.js";import{S}from"./sparkles-DDdK49DF.js";import{E as R}from"./eye-KCE58-Mr.js";import{D as C}from"./download-DqUevTWn.js";const V=function(){const[s,n]=o.useState(null),[l,h]=o.useState([]),[u,c]=o.useState(!1),d=o.useCallback(async()=>{if(!s)return;c(!0);const t=await N(s);h(t),c(!1)},[s]);o.useEffect(()=>{s&&d()},[s,d]);const b=l.reduce((t,a)=>(t[a.subject]||(t[a.subject]=[]),t[a.subject].push(a),t),{}),f=[{num:1,color:"from-blue-500 to-cyan-500",icon:"ðŸš€"},{num:2,color:"from-purple-500 to-pink-500",icon:"ðŸŽ¨"},{num:3,color:"from-green-500 to-emerald-500",icon:"ðŸŒ±"},{num:4,color:"from-orange-500 to-yellow-500",icon:"â­"},{num:5,color:"from-red-500 to-rose-500",icon:"ðŸ”¥"},{num:6,color:"from-indigo-500 to-violet-500",icon:"ðŸ”®"},{num:7,color:"from-teal-500 to-green-500",icon:"ðŸŒ"},{num:8,color:"from-cyan-500 to-blue-500",icon:"ðŸ§¬"},{num:9,color:"from-fuchsia-500 to-purple-500",icon:"âš›ï¸"},{num:10,color:"from-amber-500 to-orange-500",icon:"ðŸŽ“"}];return e.jsxs("div",{className:"min-h-screen pt-32 pb-20 px-4",children:[!s&&e.jsxs("div",{className:"text-center space-y-6 mb-20 relative z-10",children:[e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-pink-500/10 border border-pink-500/20 text-pink-400 font-bold tracking-widest uppercase mb-4",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:"Student Success"})]}),e.jsxs(i.h1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-6xl md:text-8xl font-black tracking-tighter text-white drop-shadow-[0_0_30px_rgba(236,72,153,0.5)]",children:["RESULTS ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-rose-400 to-red-400",children:"Hub"})]}),e.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"View academic performance and download report cards."})]}),e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(j,{mode:"wait",children:s?e.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 glass-card p-6 rounded-3xl border-pink-500/20",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("button",{onClick:()=>n(null),className:"w-12 h-12 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:e.jsx(x,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Class ",s," Results"]}),e.jsxs("p",{className:"text-gray-400 mt-1",children:[l.length," document",l.length!==1?"s":""," found"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-black/20 px-4 py-2 rounded-xl text-gray-400 border border-white/5",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Search by student name..."})]})]}),u?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium animate-pulse",children:"Fetching academic records..."})]}):l.length===0?e.jsxs("div",{className:"glass-card rounded-[2.5rem] p-20 text-center border-white/5",children:[e.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(p,{className:"h-10 w-10 text-gray-500"})}),e.jsx("p",{className:"text-2xl font-bold text-white mb-2",children:"No results uploaded yet"}),e.jsxs("p",{className:"text-gray-400",children:["Results for Class ",s," will be published here soon."]})]}):e.jsx("div",{className:"grid gap-8",children:Object.entries(b).map(([t,a],g)=>e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:"glass-card rounded-3xl overflow-hidden border-white/10",children:[e.jsxs("div",{className:"bg-white/5 px-8 py-6 border-b border-white/5 flex items-center gap-3",children:[e.jsx(S,{className:"w-5 h-5 text-pink-400"}),e.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-wider",children:t})]}),e.jsx("div",{className:"p-4 space-y-2",children:a.map(r=>{var m;return e.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-2xl hover:bg-white/5 transition-colors border border-transparent hover:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-pink-500/10 flex items-center justify-center",children:e.jsx(p,{className:"h-6 w-6 text-pink-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white text-lg group-hover:text-pink-300 transition-colors",children:r.fileName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Uploaded by ",r.uploadedByName," â€¢ ",(m=r.uploadedAt)==null?void 0:m.toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[r.fileURL.endsWith(".pdf")&&e.jsx("a",{href:r.fileURL,target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-xl bg-blue-500/10 text-blue-400 hover:bg-blue-500 hover:text-white transition-all transform hover:scale-105",title:"View PDF",children:e.jsx(R,{className:"h-5 w-5"})}),e.jsx("a",{href:r.fileURL,download:!0,className:"p-3 rounded-xl bg-green-500/10 text-green-400 hover:bg-green-500 hover:text-white transition-all transform hover:scale-105",title:"Download",children:e.jsx(C,{className:"h-5 w-5"})})]})]},r.id)})})]},t))})]},"results-view"):e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-6",children:f.map((t,a)=>e.jsxs(i.button,{onClick:()=>n(t.num),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:a*.05},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"group relative h-64 rounded-[2rem] overflow-hidden backdrop-blur-md border border-white/10 hover:border-white/20 transition-all shadow-xl",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${t.color} opacity-10 group-hover:opacity-20 transition-opacity duration-500`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center relative z-10 p-6",children:[e.jsx("div",{className:"text-4xl mb-4 transform group-hover:scale-110 transition-transform duration-300 drop-shadow-lg",children:t.icon}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-1",children:"Class"}),e.jsx("span",{className:"block text-5xl font-black text-white group-hover:scale-110 transition-transform duration-300 drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:t.num})]}),e.jsxs("div",{className:"mt-6 px-4 py-2 rounded-full bg-white/10 border border-white/10 text-xs font-bold text-white opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300 flex items-center gap-2",children:[e.jsx("span",{children:"View Results"}),e.jsx(x,{className:"w-3 h-3 rotate-180"})]})]})]},t.num))}),e.jsx("div",{className:"flex justify-center mt-12",children:e.jsxs(w,{to:"/games",className:"inline-flex items-center gap-3 px-8 py-4 bg-white/5 border border-white/10 rounded-2xl text-white hover:bg-white/10 transition-colors backdrop-blur-md group",children:[e.jsx(y,{className:"w-5 h-5 text-purple-400 group-hover:animate-bounce"}),e.jsx("span",{className:"font-bold tracking-wide",children:"Take a Study Break"})]})})]},"class-grid")})})]})};export{V as component};
