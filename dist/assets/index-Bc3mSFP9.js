import{u,r as d,j as e,m as t,L as o}from"./index-BDf_TsDU.js";import{a as y}from"./resultsService-B9PMRIiY.js";import{B as p}from"./book-open-CVS0ga5v.js";import{F as x}from"./file-text-BzL20uYq.js";import{U as i}from"./upload-Dl60ZD-b.js";import{L as v}from"./layout-dashboard-Cuw6Gd0w.js";import{A as g}from"./arrow-right-w-c0404V.js";const S=function(){var h;const{user:r,userProfile:l}=u(),[c,j]=d.useState([]),[n,b]=d.useState(!0);d.useEffect(()=>{(async()=>{if(r){const a=await y(r.uid);j(a)}b(!1)})()},[r]);const m=c.slice(0,5),N=c.reduce((s,a)=>(s[a.class]=(s[a.class]||0)+1,s),{});return e.jsxs("div",{className:"min-h-screen pt-32 pb-20 px-4",children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(t.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"p-3 rounded-2xl bg-green-500/20 border border-green-500/30",children:e.jsx(p,{className:"h-8 w-8 text-green-400"})}),e.jsxs("div",{children:[e.jsxs(t.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"text-4xl md:text-5xl font-black text-white tracking-tight",children:["Teacher ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-teal-400",children:"Dashboard"})]}),e.jsxs(t.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-gray-400 mt-2 text-lg",children:["Welcome back, ",(l==null?void 0:l.name)||"Faculty Member"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-6 border-l-4 border-l-green-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Total Uploads"}),e.jsx("p",{className:"text-4xl font-black text-white",children:n?"...":c.length})]}),e.jsx("div",{className:"bg-green-500/10 p-4 rounded-xl",children:e.jsx(x,{className:"h-8 w-8 text-green-400"})})]})}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-card p-6 border-l-4 border-l-teal-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Classes Covered"}),e.jsx("p",{className:"text-4xl font-black text-white",children:n?"...":Object.keys(N).length})]}),e.jsx("div",{className:"bg-teal-500/10 p-4 rounded-xl",children:e.jsx(i,{className:"h-8 w-8 text-teal-400"})})]})}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass-card p-6 border-l-4 border-l-blue-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Subjects"}),e.jsx("p",{className:"text-4xl font-black text-white",children:((h=l==null?void 0:l.subjects)==null?void 0:h.length)||0})]}),e.jsx("div",{className:"bg-blue-500/10 p-4 rounded-xl",children:e.jsx(p,{className:"h-8 w-8 text-blue-400"})})]})})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"lg:col-span-2 space-y-8",children:e.jsxs("div",{className:"glass-card p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(v,{className:"w-6 h-6 text-green-400"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(o,{to:"/teacher/upload",className:"group p-6 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-green-500/20 text-green-400",children:e.jsx(i,{className:"w-6 h-6"})}),e.jsx(g,{className:"w-5 h-5 text-gray-500 group-hover:text-white group-hover:translate-x-1 transition-all ml-auto"})]}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Upload Results"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Publish new results for your classes and subjects."})]}),e.jsxs(o,{to:"/teacher/my-uploads",className:"group p-6 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-teal-500/20 text-teal-400",children:e.jsx(x,{className:"w-6 h-6"})}),e.jsx(g,{className:"w-5 h-5 text-gray-500 group-hover:text-white group-hover:translate-x-1 transition-all ml-auto"})]}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"My Uploads"}),e.jsx("p",{className:"text-sm text-gray-400",children:"View history, delete incorrect files, or manage records."})]})]})]})}),e.jsxs(t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"glass-card p-6 h-fit",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(i,{className:"w-5 h-5 text-green-400"}),"Recent Uploads"]}),n?e.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(s=>e.jsx("div",{className:"h-16 bg-white/5 rounded-xl"},s))}):m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(i,{className:"h-12 w-12 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"No uploads yet"}),e.jsx(o,{to:"/teacher/upload",className:"inline-block px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-500 transition-colors font-bold text-sm",children:"Upload First Result"})]}):e.jsx("div",{className:"space-y-3",children:m.map(s=>{var a;return e.jsxs("div",{className:"group p-4 rounded-xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg text-green-400",children:e.jsx(x,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-bold text-white truncate",children:s.fileName}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-1",children:[e.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-white/10 border border-white/10",children:["Cl ",s.class]}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:s.subject})]})]})]}),e.jsx("p",{className:"text-[10px] text-gray-600 mt-2 text-right font-mono",children:(a=s.uploadedAt)==null?void 0:a.toLocaleDateString()})]},s.id)})})]})]})]})};export{S as component};
