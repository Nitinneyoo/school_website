import{c as j,a as N,u as S,r as t,j as e,m as h,v as x}from"./index-BDf_TsDU.js";import{S as k}from"./school-IAcGn7ZS.js";import{U as E}from"./user-C-w9QxhQ.js";import{E as P}from"./eye-off-C0PcHY8U.js";import{E as L}from"./eye-KCE58-Mr.js";import{A as C}from"./arrow-left-BBHHI4Cg.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],A=j("lock",I),W=function(){const p=N(),{signIn:b,role:o}=S(),[i,g]=t.useState(""),[n,f]=t.useState(""),[c,d]=t.useState(""),[r,u]=t.useState(!1),[m,w]=t.useState(""),[l,y]=t.useState(!1);if(t.useEffect(()=>{const s=sessionStorage.getItem("teacherCreated");if(s){const a=JSON.parse(s);w(`✅ Teacher "${a.name}" (${a.email}) created successfully! Please login as admin to continue.`),sessionStorage.removeItem("teacherCreated")}},[]),o==="admin"||o==="teacher")return p({to:o==="admin"?"/admin":"/teacher"}),null;const v=async s=>{s.preventDefault(),d(""),u(!0);const a=await b(i,n);a.success?x.success("Login successful!",{description:"Welcome back to your dashboard."}):(d(a.error||"Login failed. Please try again."),x.error("Login failed",{description:a.error||"Please check your credentials and try again."}),u(!1))};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-500/5 pointer-events-none"}),e.jsxs(h.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"text-center mb-8 space-y-2",children:[e.jsx(h.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 mx-auto bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl flex items-center justify-center shadow-2xl mb-6 transform rotate-3",children:e.jsx(k,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-black text-white tracking-tight",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-400",children:"Sign in to access your portal"})]}),e.jsx("div",{className:"glass-card rounded-3xl p-8 border-white/10 shadow-2xl backdrop-blur-xl",children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-300 ml-1",children:"Email Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{id:"email",type:"email",required:!0,value:i,onChange:s=>g(s.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all group-hover:bg-white/10",placeholder:"admin@school.com",disabled:r}),e.jsx(E,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-hover:text-blue-400 transition-colors"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-gray-300 ml-1",children:"Password"}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{id:"password",type:l?"text":"password",required:!0,value:n,onChange:s=>f(s.target.value),className:"w-full pl-12 pr-12 py-4 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all group-hover:bg-white/10",placeholder:"••••••••",disabled:r}),e.jsx(A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-hover:text-blue-400 transition-colors"}),e.jsx("button",{type:"button",onClick:()=>y(!l),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-blue-400 transition-colors focus:outline-none",tabIndex:-1,children:l?e.jsx(P,{className:"w-5 h-5"}):e.jsx(L,{className:"w-5 h-5"})})]})]}),m&&e.jsx("div",{className:"p-4 rounded-xl bg-green-500/10 border border-green-500/20 text-green-400 text-sm font-medium",children:m}),c&&e.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400 text-sm font-medium text-center",children:c}),e.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-bold py-4 px-6 rounded-xl shadow-lg hover:shadow-blue-500/25 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]",children:r?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Signing in..."})]}):"Sign In"})]})}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("a",{href:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-white transition-colors",children:[e.jsx(C,{className:"w-4 h-4"})," Back to Home"]})})]})]})};export{W as component};
