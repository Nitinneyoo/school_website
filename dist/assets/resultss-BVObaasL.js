import{r as e,j as t,L as s}from"./vendor-router-fAM80Ws7.js";import{g as r}from"./resultsService-BcZ-_R3p.js";import{m as a,A as i}from"./vendor-animations-C3B6sSUk.js";import{T as o}from"./trophy-BMOEylmq.js";import{A as l}from"./arrow-left-C2BP7kg2.js";import{G as n}from"./index-C4WCsToT.js";import{S as c}from"./search-BwHC8uIh.js";import{F as d}from"./file-text-DKUxm9J9.js";import{S as m}from"./sparkles-Bx3b6qx8.js";import{E as x}from"./eye-Bvp_JraH.js";import{D as p}from"./download-BqFuAVEx.js";import"./vendor-react-HnKmhvXM.js";import"./vendor-ui-CasoyLD2.js";const h=function(){const[h,u]=e.useState(null),[b,f]=e.useState([]),[j,g]=e.useState(!1),w=e.useCallback(async()=>{if(!h)return;g(!0);const e=await r(h);f(e),g(!1)},[h]);e.useEffect(()=>{h&&w()},[h,w]);const v=b.reduce((e,t)=>(e[t.subject]||(e[t.subject]=[]),e[t.subject].push(t),e),{});return t.jsxs("div",{className:"min-h-screen pt-32 pb-20 px-4",children:[!h&&t.jsxs("div",{className:"text-center space-y-6 mb-20 relative z-10",children:[t.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-pink-500/10 border border-pink-500/20 text-pink-400 font-bold tracking-widest uppercase mb-4",children:[t.jsx(o,{className:"w-4 h-4"}),t.jsx("span",{children:"Student Success"})]}),t.jsxs(a.h1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-6xl md:text-8xl font-black tracking-tighter text-white drop-shadow-[0_0_30px_rgba(236,72,153,0.5)]",children:["RESULTS ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-rose-400 to-red-400",children:"Hub"})]}),t.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"View academic performance and download report cards."})]}),t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx(i,{mode:"wait",children:h?t.jsxs(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 glass-card p-6 rounded-3xl border-pink-500/20",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("button",{onClick:()=>u(null),className:"w-12 h-12 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:t.jsx(l,{className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Class ",h," Results"]}),t.jsxs("p",{className:"text-gray-400 mt-1",children:[b.length," document",1!==b.length?"s":""," found"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 bg-black/20 px-4 py-2 rounded-xl text-gray-400 border border-white/5",children:[t.jsx(c,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:"Search by student name..."})]})]}),j?t.jsxs("div",{className:"text-center py-20",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400 font-medium animate-pulse",children:"Fetching academic records..."})]}):0===b.length?t.jsxs("div",{className:"glass-card rounded-[2.5rem] p-20 text-center border-white/5",children:[t.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(d,{className:"h-10 w-10 text-gray-500"})}),t.jsx("p",{className:"text-2xl font-bold text-white mb-2",children:"No results uploaded yet"}),t.jsxs("p",{className:"text-gray-400",children:["Results for Class ",h," will be published here soon."]})]}):t.jsx("div",{className:"grid gap-8",children:Object.entries(v).map(([e,s],r)=>t.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"glass-card rounded-3xl overflow-hidden border-white/10",children:[t.jsxs("div",{className:"bg-white/5 px-8 py-6 border-b border-white/5 flex items-center gap-3",children:[t.jsx(m,{className:"w-5 h-5 text-pink-400"}),t.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-wider",children:e})]}),t.jsx("div",{className:"p-4 space-y-2",children:s.map(e=>{var s;return t.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-2xl hover:bg-white/5 transition-colors border border-transparent hover:border-white/5",children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-pink-500/10 flex items-center justify-center",children:t.jsx(d,{className:"h-6 w-6 text-pink-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-white text-lg group-hover:text-pink-300 transition-colors",children:e.fileName}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Uploaded by ",e.uploadedByName," â€¢ ",null==(s=e.uploadedAt)?void 0:s.toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[e.fileURL.endsWith(".pdf")&&t.jsx("a",{href:e.fileURL,target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-xl bg-blue-500/10 text-blue-400 hover:bg-blue-500 hover:text-white transition-all transform hover:scale-105",title:"View PDF",children:t.jsx(x,{className:"h-5 w-5"})}),t.jsx("a",{href:e.fileURL,download:!0,className:"p-3 rounded-xl bg-green-500/10 text-green-400 hover:bg-green-500 hover:text-white transition-all transform hover:scale-105",title:"Download",children:t.jsx(p,{className:"h-5 w-5"})})]})]},e.id)})})]},e))})]},"results-view"):t.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-6",children:[{num:1,color:"from-blue-500 to-cyan-500",icon:"ðŸš€"},{num:2,color:"from-purple-500 to-pink-500",icon:"ðŸŽ¨"},{num:3,color:"from-green-500 to-emerald-500",icon:"ðŸŒ±"},{num:4,color:"from-orange-500 to-yellow-500",icon:"â­"},{num:5,color:"from-red-500 to-rose-500",icon:"ðŸ”¥"},{num:6,color:"from-indigo-500 to-violet-500",icon:"ðŸ”®"},{num:7,color:"from-teal-500 to-green-500",icon:"ðŸŒ"},{num:8,color:"from-cyan-500 to-blue-500",icon:"ðŸ§¬"},{num:9,color:"from-fuchsia-500 to-purple-500",icon:"âš›ï¸"},{num:10,color:"from-amber-500 to-orange-500",icon:"ðŸŽ“"}].map((e,s)=>t.jsxs(a.button,{onClick:()=>u(e.num),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.05*s},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"group relative h-64 rounded-[2rem] overflow-hidden backdrop-blur-md border border-white/10 hover:border-white/20 transition-all shadow-xl",children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-10 group-hover:opacity-20 transition-opacity duration-500`}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center relative z-10 p-6",children:[t.jsx("div",{className:"text-4xl mb-4 transform group-hover:scale-110 transition-transform duration-300 drop-shadow-lg",children:e.icon}),t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-1",children:"Class"}),t.jsx("span",{className:"block text-5xl font-black text-white group-hover:scale-110 transition-transform duration-300 drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:e.num})]}),t.jsxs("div",{className:"mt-6 px-4 py-2 rounded-full bg-white/10 border border-white/10 text-xs font-bold text-white opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300 flex items-center gap-2",children:[t.jsx("span",{children:"View Results"}),t.jsx(l,{className:"w-3 h-3 rotate-180"})]})]})]},e.num))}),t.jsx("div",{className:"flex justify-center mt-12",children:t.jsxs(s,{to:"/games",className:"inline-flex items-center gap-3 px-8 py-4 bg-white/5 border border-white/10 rounded-2xl text-white hover:bg-white/10 transition-colors backdrop-blur-md group",children:[t.jsx(n,{className:"w-5 h-5 text-purple-400 group-hover:animate-bounce"}),t.jsx("span",{className:"font-bold tracking-wide",children:"Take a Study Break"})]})})]},"class-grid")})})]})};export{h as component};
